import grpc
import morel_pb2_grpc
import morel_pb2

def client():
  with open('../ca.crt', 'rb') as f:
    ca_cert = f.read()
  credentials = grpc.ssl_channel_credentials(ca_cert)
  with grpc.secure_channel('nftapi.ctf:50053', credentials) as channel:
    stub = morel_pb2_grpc.MorelStub(channel)
    request = morel_pb2.AuthenticationAnswer()
    response = stub.AuthenticationValidator(request=request, metadata=(('rpc-auth', '7f92661039251f38a06dde28ff997caa52c88e8c'),))
    print(response)

if __name__ == '__main__':
  client()